//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table folder {
  id String [pk]
  lastModify DateTime [not null]
  title String [not null]
  description String
  survivalStatus SurvivalStatus [not null, default: 'ALIVE']
  lastDeleted DateTime
  authorId String [not null]
  author user [not null]
  childrenDocs doc [not null]
  parentFolderId String
  parentFolder folder
  childrenFolders folder [not null]
  roles role [not null]
}

Table doc {
  id String [pk]
  lastModify DateTime [not null]
  value Json [not null]
  survivalStatus SurvivalStatus [not null, default: 'ALIVE']
  lastDeleted DateTime
  docType DocType [not null]
  authorId String [not null]
  author user [not null]
  parentFolderId String
  parentFolder folder
  parentDocId String
  parentDoc doc
  childrenDocs doc [not null]
  roles role [not null]
}

Table user {
  id String [pk]
  username String [not null]
  nickname String [not null]
  password Bytes [not null]
  survivalStatus SurvivalStatus [not null, default: 'ALIVE']
  authoredDocs doc [not null]
  authoredFolder folder [not null]
  roles role [not null]
}

Table role {
  id String [pk]
  roleType RoleType [not null]
  docId String
  doc doc
  folderId String
  folder folder
  user user [not null]
  parentRoles role [not null]
  childrenRoles role [not null]
}

Table RoleToUser {
  rolesId String [ref: > role.id]
  userId String [ref: > user.id]
}

Table role_parent {
  parentrolesId String [ref: > role.id]
  childrenrolesId String [ref: > role.id]
}

Enum SurvivalStatus {
  ALIVE
  DELETED
  COMPLETELY_DELETED
}

Enum DocType {
  GENERAL
  WIKI
}

Enum RoleType {
  ADMINISTRATOR
  COLLABORATOR
  READER
}

Ref: folder.authorId > user.id

Ref: folder.parentFolderId - folder.id

Ref: doc.authorId > user.id

Ref: doc.parentFolderId > folder.id

Ref: doc.parentDocId - doc.id

Ref: role.docId > doc.id

Ref: role.folderId > folder.id