var Ie=Object.defineProperty,ze=Object.defineProperties;var Re=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Z=(e,n,t)=>n in e?Ie(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,g=(e,n)=>{for(var t in n||(n={}))Te.call(n,t)&&Z(e,t,n[t]);if(Q)for(var t of Q(n))Ke.call(n,t)&&Z(e,t,n[t]);return e},b=(e,n)=>ze(e,Re(n));import{a as x,j as l,b as v,u as y,c as C,d as R,E as i,T as d,r as m,e as f,R as L,w as Oe,f as $e,N as _,g as He,S as ee,h as I,P as te,i as Fe,k as ne,l as je,m as qe,n as We}from"./vendor.d92aee85.js";const Ve=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}};Ve();var Ye="_1vo12v81",Ue="_1vo12v80";var Ge="_192gpwe4",Xe="_192gpwe1",Je="_192gpwe3",Qe="_192gpwe2",Ze="_192gpwe0",e6="_192gpwe9",t6="_192gpwe5",oe="_192gpwe6",re="_192gpwe8",se="_192gpwe7";const j=x(!1),ge=x(!1),ve=x(e=>e(j),(e,n,t)=>{t.type==="delayed"?setTimeout(()=>{e(ge)||n(j,t.value)},500):n(j,t.value)}),ye=x(!1),le=x(null),ae=x(null),H=x(e=>e(le),(e,n,t)=>{n(le,t)}),n6=x(e=>{const n=e(H);return n&&{url:n.url,linkElementPath:n.linkElementPath,position:n.position}}),me=x(e=>e(ae),(e,n)=>{const t=e(H);n(ae,t)}),o6=()=>l("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1893",children:l("path",{d:"M682.666667 725.333333a42.666667 42.666667 0 0 1 42.666666 42.666667v85.333333a42.666667 42.666667 0 1 1-85.333333 0v-85.333333a42.666667 42.666667 0 0 1 42.666667-42.666667zM725.333333 682.666667a42.666667 42.666667 0 0 1 42.666667-42.666667h85.333333a42.666667 42.666667 0 1 1 0 85.333333h-85.333333a42.666667 42.666667 0 0 1-42.666667-42.666666zM330.965333 451.669333a42.666667 42.666667 0 0 1 0 60.330667l-60.330666 60.330667a128 128 0 1 0 181.034666 181.034666L512 693.034667a42.666667 42.666667 0 0 1 60.330667 60.330666L512 813.653333a213.333333 213.333333 0 1 1-301.696-301.653333l60.330667-60.373333a42.666667 42.666667 0 0 1 60.330666 0zM128 341.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h85.333333a42.666667 42.666667 0 0 1 0 85.333333H170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667zM753.365333 270.634667a128 128 0 0 0-181.034666 0L512 330.965333a42.666667 42.666667 0 1 1-60.330667-60.330666L512 210.304a213.333333 213.333333 0 1 1 301.696 301.653333l-60.330667 60.373334A42.666667 42.666667 0 0 1 693.034667 512l60.330666-60.330667a128 128 0 0 0 0-181.034666zM341.333333 128a42.666667 42.666667 0 0 1 42.666667 42.666667v85.333333a42.666667 42.666667 0 0 1-85.333333 0V170.666667a42.666667 42.666667 0 0 1 42.666666-42.666667z","p-id":"1894",fill:"#ffffff"})}),r6=()=>v("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1686",children:[l("path",{d:"M128 853.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h682.666666a42.666667 42.666667 0 1 1 0 85.333333H170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667z","p-id":"1687",fill:"#ffffff"}),l("path",{d:"M622.336 170.666667a85.333333 85.333333 0 0 1 120.661333 0L853.333333 281.002667a85.333333 85.333333 0 0 1 0 120.661333L371.498667 883.498667A42.666667 42.666667 0 0 1 341.333333 896H170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667v-170.666666a42.666667 42.666667 0 0 1 12.501333-30.165334L622.336 170.666667z m170.666667 170.666666L682.666667 230.997333l-469.333334 469.333334V810.666667h110.336l469.333334-469.333334z","p-id":"1688",fill:"#ffffff"})]}),s6=()=>{const e=y(),[n,t]=C(ve),[,o]=C(ge),[,r]=C(ye),[,s]=C(me),a=R(n6);if(n&&a){const c=()=>{t({type:"instant",value:!1}),s(),r(!0)},u=p=>{p.preventDefault(),p.stopPropagation();const h=a.linkElementPath,w=i.rangeRef(e,i.range(e,h));d.unwrapNodes(e,{at:h}),w.current&&d.select(e,w.current),t({type:"instant",value:!1}),w.unref()};return v("div",{onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{t({type:"instant",value:!1}),o(!1)},className:Xe,style:{left:a.position.left,top:a.position.top},children:[l("div",{className:Qe,children:a.url}),l("div",{onClick:c,className:Je,children:l(r6,{})}),l("div",{onMouseDown:u,className:Ge,children:l(o6,{})})]})}else return l("div",{})},l6=()=>{const e=y(),[n,t]=C(ye),[o,r]=C(me),[,s]=C(H),[a,c]=m.exports.useState(""),[u,p]=m.exports.useState(""),h=m.exports.useRef(null);if(m.exports.useEffect(()=>{h.current&&n&&h.current.focus(),o&&(c(o.text),p(o.url))},[n,o]),n&&o){const w=()=>{d.setNodes(e,{url:u},{at:o.linkElementPath}),d.insertText(e,a,{at:o.linkElementPath}),s({text:a,url:u,linkElementPath:o.linkElementPath,position:o.position}),r()};return v("div",{onBlur:k=>{k.currentTarget.contains(k.relatedTarget)||t(!1)},tabIndex:-1,className:t6,style:{left:o.position.left,top:o.position.top},children:[v("div",{className:oe,style:{marginBottom:"6px"},children:[l("span",{className:se,children:"\u6587\u672C"}),l("input",{value:a,onChange:k=>{c(k.target.value)},className:re})]}),v("div",{className:oe,children:[l("span",{className:se,children:"\u94FE\u63A5"}),l("input",{ref:h,value:u,onChange:k=>{p(k.target.value)},className:re,style:{marginRight:"16px"}}),l("button",{onClick:w,className:e6,children:"\u786E\u5B9A"})]})]})}else return l("div",{})},q=e=>{const{selection:n}=e;return n?Array.from(i.nodes(e,{match:o=>f.isElement(o)&&o.type==="link"})).length>0:!1},a6=e=>{if(!e.selection){console.error("unToggleLink() need editor.selection.");return}if(!q(e)){console.error("unToggleLink() should be called when link active.");return}const t=Array.from(i.nodes(e,{at:e.selection,match:o=>f.isElement(o)&&o.type==="link"})).map(o=>i.pathRef(e,o[1]));for(const o of t)o.current&&d.unwrapNodes(e,{at:o.current})},i6=(e,n)=>{if(q(e)&&a6(e),!e.selection){console.error("toggleLink() need editor.selection.");return}if(L.isCollapsed(e.selection)){console.error("toggleLink() should not called with collapsed editor.selection.");return}const[t,o]=i.edges(e,e.selection),r=i.rangeRef(e,i.unhangRange(e,{anchor:t,focus:o})),s={type:"link",url:n,children:[]};d.wrapNodes(e,s,{split:!0}),d.select(e,i.unhangRange(e,r.current)),r.unref()};var c6="_1ckyjt3",d6="_1ckyjt0",u6="_1ckyjt2",p6="_1ckyjt1";const ke=x({isActive:!1,position:null}),f6=()=>{const e=y(),[n,t]=C(ke),[o,r]=m.exports.useState(""),s=m.exports.useRef(null);if(m.exports.useEffect(()=>{s.current&&n.isActive&&s.current.focus(),n.isActive||r("")},[n.isActive]),n.isActive&&n.position){const a=()=>{i6(e,o),t({isActive:!1,position:null})};return v("div",{onBlur:c=>{c.currentTarget.contains(c.relatedTarget)||t({isActive:!1,position:null})},tabIndex:-1,className:d6,style:{left:n.position.left,top:n.position.top},children:[l("span",{className:p6,children:"\u94FE\u63A5"}),l("input",{ref:s,value:o,placeholder:"\u7C98\u8D34\u6216\u8F93\u5165\u4E00\u4E2A\u94FE\u63A5",onChange:c=>{r(c.target.value)},className:u6}),l("button",{onClick:a,className:c6,children:"\u786E\u5B9A"})]})}else return l("div",{})};var h6="_1km3qo31",Ce="_1km3qo33",Le="_1km3qo34",g6="_1km3qo30",xe="_1km3qo32";const F=(e,n)=>{const t=i.marks(e);return t?t[n]===!0:!1},W=(e,n,t)=>{F(e,n)?i.removeMark(e,n):i.addMark(e,n,t)},K={focusStatic:"#383838",nofocusActive:"#333c52",focusActive:"#3d4b6c"},v6="#ffffff",ie="#5985f5",y6=(e,n)=>{let t={fillColor:v6,backgroundColor:void 0};return!e&&n?t.backgroundColor=K.focusStatic:e&&n?(t.backgroundColor=K.focusActive,t.fillColor=ie):e&&!n&&(t.backgroundColor=K.nofocusActive,t.fillColor=ie),t},S=({isStyleActive:e,onMouseDown:n,onMouseEnter:t,onMouseLeave:o,children:r})=>{const[s,a]=m.exports.useState(!1),{fillColor:c,backgroundColor:u}=y6(e,s);return l("div",{className:xe,children:l("div",{onMouseDown:n,onMouseEnter:p=>{a(!0),t&&t(p)},onMouseLeave:p=>{a(!1),o&&o(p)},className:Ce,style:{backgroundColor:u},children:l("div",{className:Le,style:{color:c},children:r})})})},m6=()=>v("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4522",children:[l("path",{d:"M298.666667 512a42.666667 42.666667 0 0 1 42.666666-42.666667h234.666667a192 192 0 1 1 0 384H341.333333a42.666667 42.666667 0 1 1 0-85.333333h234.666667a106.666667 106.666667 0 0 0 0-213.333333H341.333333a42.666667 42.666667 0 0 1-42.666666-42.666667z","p-id":"4898",fill:"currentColor"}),l("path",{d:"M341.333333 170.666667a42.666667 42.666667 0 0 1 42.666667 42.666666v597.333334a42.666667 42.666667 0 1 1-85.333333 0V213.333333a42.666667 42.666667 0 0 1 42.666666-42.666666z","p-id":"4899",fill:"currentColor"}),l("path",{d:"M298.666667 213.333333a42.666667 42.666667 0 0 1 42.666666-42.666666h192a192 192 0 1 1 0 384H341.333333a42.666667 42.666667 0 1 1 0-85.333334h192a106.666667 106.666667 0 0 0 0-213.333333H341.333333a42.666667 42.666667 0 0 1-42.666666-42.666667z","p-id":"4900",fill:"currentColor"})]}),k6=()=>{const e=y(),n=F(e,"bold");return l(S,{isStyleActive:n,onMouseDown:o=>{o.preventDefault(),o.stopPropagation(),W(e,"bold",!0)},children:l(m6,{})})},C6=()=>v("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1841",children:[l("path",{d:"M469.333333 512a42.666667 42.666667 0 0 1 42.666667-42.666667 297.813333 297.813333 0 0 1 126.848 27.861334c17.578667 8.32 33.962667 18.389333 48.810667 30.037333 17.962667 14.08 33.706667 30.549333 46.421333 49.066667 23.296 33.834667 35.370667 73.045333 33.749333 113.408-1.578667 40.32-16.64 78.592-42.282666 110.933333-25.557333 32.213333-60.586667 57.301333-100.608 73.6a301.824 301.824 0 0 1-128.512 21.333333 292.864 292.864 0 0 1-124.714667-34.261333c-37.546667-20.437333-68.864-49.237333-89.514667-84.352a42.666667 42.666667 0 1 1 73.514667-43.264c11.904 20.181333 31.104 38.698667 56.746667 52.650667 25.6 13.909333 56.149333 22.442667 88.277333 24.021333 32.128 1.621333 64-3.712 91.989333-15.146667 28.074667-11.434667 50.56-28.202667 65.962667-47.616 15.317333-19.285333 23.04-40.448 23.893333-61.269333a101.376 101.376 0 0 0-18.816-61.738667 138.112 138.112 0 0 0-28.757333-30.250666l26.325333-33.578667-26.325333 33.578667a172.202667 172.202667 0 0 0-32.682667-20.010667A212.48 212.48 0 0 0 512 554.666667a42.666667 42.666667 0 0 1-42.666667-42.666667z","p-id":"1842",fill:"currentColor"}),l("path",{d:"M128 512a42.666667 42.666667 0 0 1 42.666667-42.666667h682.666666a42.666667 42.666667 0 1 1 0 85.333334H170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667zM523.264 213.632a216.533333 216.533333 0 0 0-91.989333 15.146667c-28.074667 11.434667-50.56 28.202667-65.962667 47.616-15.317333 19.285333-23.082667 40.448-23.893333 61.269333-0.256 6.144 0.128 12.288 1.066666 18.346667a42.666667 42.666667 0 1 1-84.309333 13.312 179.541333 179.541333 0 0 1-2.048-34.986667c1.578667-40.362667 16.682667-78.634667 42.325333-110.933333 25.557333-32.213333 60.586667-57.344 100.608-73.642667a301.824 301.824 0 0 1 128.469334-21.333333 292.906667 292.906667 0 0 1 124.757333 34.261333c37.546667 20.437333 68.864 49.237333 89.514667 84.352a42.666667 42.666667 0 1 1-73.557334 43.264c-11.861333-20.224-31.061333-38.698667-56.746666-52.650667a207.658667 207.658667 0 0 0-88.234667-24.021333z","p-id":"1843",fill:"currentColor"})]}),L6=()=>{const e=y(),n=F(e,"strike");return l(S,{isStyleActive:n,onMouseDown:o=>{o.preventDefault(),o.stopPropagation(),W(e,"strike",!0)},children:l(C6,{})})},V=e=>{const{selection:n}=e;return n?Array.from(i.nodes(e,{match:o=>f.isElement(o)&&o.type==="inlineCode"})).length>0:!1},x6=e=>{if(!e.selection){console.error("unToggleInlineCode() need editor.selection.");return}if(!V(e)){console.error("unToggleInlineCode() should be called when inline code active.");return}const[n,t]=i.edges(e,e.selection),o=i.pointRef(e,n),r=i.pointRef(e,t);d.splitNodes(e,{at:o.current,match:a=>f.isElement(a)&&a.type==="inlineCode"}),d.splitNodes(e,{at:r.current,match:a=>f.isElement(a)&&a.type==="inlineCode"});const s=i.rangeRef(e,i.unhangRange(e,{anchor:o.current,focus:r.current}));d.unwrapNodes(e,{at:s.current,match:a=>f.isElement(a)&&a.type==="inlineCode"}),d.select(e,i.unhangRange(e,s.current)),s.unref(),o.unref(),r.unref()},w6=e=>{if(V(e)){x6(e);return}if(!e.selection){console.error("toggleInlineCode() need editor.selection.");return}if(L.isCollapsed(e.selection)){console.error("toggleInlineCode() should not called with collapsed editor.selection.");return}const[n,t]=i.edges(e,e.selection),o=i.rangeRef(e,i.unhangRange(e,{anchor:n,focus:t})),r={type:"inlineCode",children:[]};d.wrapNodes(e,r,{split:!0}),d.select(e,i.unhangRange(e,o.current)),o.unref()},b6=()=>l("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4676",children:l("path",{d:"M609.834667 268.501333a42.666667 42.666667 0 0 1 60.330666 0l213.333334 213.333334a42.666667 42.666667 0 0 1 0 60.330666l-213.333334 213.333334a42.666667 42.666667 0 0 1-60.330666-60.330667L793.002667 512l-183.168-183.168a42.666667 42.666667 0 0 1 0-60.330667zM414.165333 268.501333a42.666667 42.666667 0 0 1 0 60.330667L230.997333 512l183.168 183.168a42.666667 42.666667 0 0 1-60.330666 60.330667l-213.333334-213.333334a42.666667 42.666667 0 0 1 0-60.330666l213.333334-213.333334a42.666667 42.666667 0 0 1 60.330666 0zM449.834667 658.389333L550.826667 365.653333l40.32 13.909334-100.949334 292.778666-40.362666-13.909333z","p-id":"4677",fill:"currentColor"})}),A6=()=>{const e=y(),n=V(e);return l(S,{isStyleActive:n,onMouseDown:o=>{o.preventDefault(),o.stopPropagation(),e.selection&&w6(e)},children:l(b6,{})})},E6=["inlineCode","link"],B6=["blockCode_voidArea"],P=["paragraph","orderedList","unorderedList","blockCode_codeLine"],Y=["paragraph","orderedList","unorderedList"],B=(e,n)=>e.includes(n),U=(e,n)=>{const t=Array.from(i.nodes(e,{at:n,match:E=>f.isElement(E)&&E.type==="blockCode"}));if(t.length>1){console.error("spiltBlockCode() just work for one blockCode.");return}const[o,r]=t[0],s={anchor:i.start(e,r),focus:i.end(e,r)};if(!(L.includes(s,n.anchor)&&L.includes(s,n.focus))){console.error("spiltBlockCode() just work for range included blockCode.");return}const a=Array.from(i.nodes(e,{at:n,match:E=>f.isElement(E)&&E.type==="blockCode_codeLine"})),c=a.map(([E])=>({type:"paragraph",indentLevel:0,children:E.children})),u=o.children[0],p=o.children[1],h=a[0][1].slice(-1)[0],w=a.slice(-1)[0][1].slice(-1)[0],k={type:"blockCode",children:[u,{type:"blockCode_codeArea",langKey:p.langKey,children:p.children.slice(0,h)},Object.assign({},u)]},N={type:"blockCode",children:[u,{type:"blockCode_codeArea",langKey:p.langKey,children:p.children.slice(w+1)},Object.assign({},u)]},A=[...c];h!==0&&A.unshift(k),w!==p.children.length-1&&A.push(N),d.removeNodes(e,{at:r}),d.insertNodes(e,A,{at:r});const T=h!==0?r.slice(0,-1).concat([r.slice(-1)[0]+1]):r,M=h!==0?r.slice(0,-1).concat([r.slice(-1)[0]+c.length]):r.slice(0,-1).concat([r.slice(-1)[0]+c.length-1]),z=i.range(e,T,M);d.select(e,z)},we=e=>{const{selection:n}=e;return n?Array.from(i.nodes(e,{match:o=>f.isElement(o)&&o.type==="blockCode"})).length>0:!1},N6=e=>{if(!e.selection){console.error("unToggleBlockCode() need editor.selection.");return}const n=Array.from(i.nodes(e,{match:t=>f.isElement(t)}));if(n.every(([t])=>t.type.startsWith("blockCode"))){U(e,e.selection);const t=L.end(e.selection);d.select(e,t)}else if(n.some(([t])=>t.type.startsWith("blockCode"))){const t=n.filter(([a])=>B(P,a.type)),o={type:"blockCode",children:[{type:"blockCode_voidArea",children:[{text:""}]},{type:"blockCode_codeArea",langKey:"PlainText",children:t.map(([a])=>({type:"blockCode_codeLine",children:a.children}))},{type:"blockCode_voidArea",children:[{text:""}]}]},r=L.start(e.selection).path;d.removeNodes(e),d.insertNodes(e,o,{at:[r[0]]});const s=i.end(e,[r[0],1]);d.select(e,s)}else console.error("unToggleBlockCode() encounters a situation that cannot be handled.")},_6=e=>{if(!e.selection){console.error("toggleBlockCode() need editor.selection.");return}if(we(e))N6(e);else{const n=Array.from(i.nodes(e,{match:s=>f.isElement(s)&&B(P,s.type)})).map(s=>s[0]);if(n.some(s=>s.type==="blockCode_codeLine")){console.error("toggleBlockCode() does not work as expected.");return}const t=n.map(s=>({type:"blockCode_codeLine",children:s.children})),o={type:"blockCode",children:[{type:"blockCode_voidArea",children:[{text:""}]},{type:"blockCode_codeArea",langKey:"PlainText",children:t},{type:"blockCode_voidArea",children:[{text:""}]}]},r=L.start(e.selection).path;d.removeNodes(e),d.insertNodes(e,o,{at:[r[0]]}),d.select(e,i.end(e,[r[0],1]))}},M6=()=>v("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2663",children:[l("path",{d:"M683.861333 736.042667L340.053333 735.573333l0.042667-53.205333 343.765333 0.512-0.042666 53.205333zM552.192 565.12l-212.522667-2.474667 0.426667-53.205333 212.48 2.432-0.384 53.248zM683.818667 392.192L340.053333 391.68l0.042667-53.205333 343.765333 0.512-0.042666 53.205333z",fill:"currentColor","p-id":"2664"}),l("path",{d:"M300.629333 825.258667c-44.586667 0-78.08-9.130667-100.352-27.306667-21.845333-17.749333-32.768-42.794667-32.768-75.093333v-116.053334c0-21.845333-3.84-36.864-11.605333-45.056-7.253333-8.661333-20.48-12.970667-39.594667-12.970666v-61.44c19.114667 0 32.298667-4.096 39.594667-12.288 7.722667-8.661333 11.605333-23.893333 11.605333-45.738667v-116.053333c0-31.872 10.922667-56.917333 32.768-75.093334 22.314667-18.218667 55.765333-27.306667 100.352-27.306666h23.893334v61.44h-23.893334a35.2 35.2 0 0 0-26.624 11.605333 41.130667 41.130667 0 0 0-10.922666 29.354667v116.053333c0 35.029333-10.24 60.074667-30.72 75.093333a65.706667 65.706667 0 0 1-30.72 13.653334c11.392 1.792 21.632 6.357333 30.72 13.653333 20.48 16.810667 30.72 41.856 30.72 75.093333v116.053334c0 11.818667 3.626667 21.589333 10.922666 29.354666 7.253333 7.722667 16.170667 11.605333 26.624 11.605334h23.893334v61.44h-23.893334zM700.586667 763.818667h23.893333c10.496 0 19.370667-3.882667 26.624-11.605334a41.130667 41.130667 0 0 0 10.922667-29.354666v-116.053334c0-33.28 10.24-58.282667 30.72-75.093333 9.130667-7.296 19.370667-11.861333 30.72-13.653333a65.664 65.664 0 0 1-30.72-13.653334c-20.48-15.018667-30.72-40.106667-30.72-75.093333v-116.053333a41.130667 41.130667 0 0 0-10.922667-29.354667 35.2 35.2 0 0 0-26.624-11.605333h-23.893333v-61.44h23.893333c44.629333 0 77.824 9.088 99.669333 27.306666 22.314667 18.176 33.450667 43.221333 33.450667 75.093334v116.053333c0 21.845333 3.669333 37.077333 10.922667 45.738667 7.765333 8.192 21.162667 12.288 40.277333 12.288v61.44c-19.114667 0-32.512 4.266667-40.277333 12.970666-7.253333 8.192-10.922667 23.210667-10.922667 45.056v116.053334c0 32.298667-11.093333 57.344-33.450667 75.093333-21.845333 18.176-55.04 27.306667-99.669333 27.306667h-23.893333v-61.44z",fill:"currentColor","p-id":"2665"})]}),S6=()=>{const e=y(),n=we(e);return l(S,{isStyleActive:n,onMouseDown:o=>{var r,s,a;if(o.preventDefault(),o.stopPropagation(),e.selection){_6(e);const c=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0});(a=(s=(r=window.getSelection())==null?void 0:r.anchorNode)==null?void 0:s.parentElement)==null||a.dispatchEvent(c)}},children:l(M6,{})})},O={initialWhite:"#ebebeb",red:"#F76965",orange:"#FF9626",yellow:"#FBE94B",lime:"#B8E24B",blue:"#5AAAFB",pinkPurple:"#E13DDB",gray:"#929293"},G={red_1:"#770611",red_2:"#CB2E34",orange_1:"#4D1B00",orange_2:"#A64B0A",yellow_1:"#4D3800",yellow_2:"#785E07",lime_1:"#2A4D00",lime_2:"#447006",blue_1:"#001A4D",blue_2:"#2971CF",pinkPurple_1:"#650370",pinkPurple_2:"#B01BB6",gray_1:"#2E2E30",gray_2:"#5F5F60"},P6=({fontColorKey:e,backgroundColorKey:n,children:t})=>l("span",{style:{backgroundColor:n?G[n]:void 0,color:e?O[e]:void 0},children:t}),be=(e,n,t)=>{const o=i.marks(e);return o!=null&&o.color?n==="font"?o.color.fontColorKey?o.color.fontColorKey===t:!1:o.color.backgroundColorKey?o.color.backgroundColorKey===t:!1:!1},$=(e,n,t)=>{var r,s,a;if(be(e,n,t)){let c=(r=i.marks(e))==null?void 0:r.color;if(!c){console.error("Editor.marks(editor).color in toggleColorMark() is unexpected.");return}c=Object.assign({},c),i.removeMark(e,"color"),n==="font"?delete c.fontColorKey:delete c.backgroundColorKey,i.addMark(e,"color",c)}else{let c=(a=(s=i.marks(e))==null?void 0:s.color)!=null?a:{};c=Object.assign({},c),n==="font"?c.fontColorKey=t:c.backgroundColorKey=t,i.addMark(e,"color",c)}},D6=e=>{i.removeMark(e,"color")};var I6="_1yqxz9w1",z6="_1yqxz9w4",R6="_1yqxz9w0",ce="_1yqxz9w3",de="_1yqxz9w2";const Ae=()=>v("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3633",children:[l("path",{d:"M810.538667 897.152l-596.181334-3.072 0.512-85.333333 596.181334 3.072-0.512 85.333333z","p-id":"3634",fill:"currentColor"}),l("path",{d:"M492.501333 170.666667h45.653334L305.792 725.589333H213.162667L446.848 170.666667h45.653333z","p-id":"3635",fill:"currentColor"}),l("path",{d:"M532.650667 170.666667h-45.653334l232.405334 554.922666h92.586666L578.346667 170.666667h-45.653334z","p-id":"3636",fill:"currentColor"}),l("path",{d:"M342.016 512h341.333333v85.333333h-341.333333v-85.333333z","p-id":"3637",fill:"currentColor"})]}),X=x({backgroundColorKey:"gray_2"}),T6=x(e=>{const n=e(X);let t={fontColorKey:"initialWhite",backgroundColorKey:"gray_2"};return n.fontColorKey&&(t.fontColorKey=n.fontColorKey),n.backgroundColorKey&&(t.backgroundColorKey=n.backgroundColorKey),t}),Ee=x(!1),ue=({type:e,colorKey:n})=>{const t=y(),[o,r]=m.exports.useState(!1),[s,a]=C(X),c=be(t,e,n);return l("div",{onMouseDown:p=>{p.preventDefault(),p.stopPropagation(),e==="font"?($(t,"font",n),a(b(g({},s),{fontColorKey:n}))):($(t,"background",n),a(b(g({},s),{backgroundColorKey:n})))},onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},style:{cursor:"pointer",boxSizing:"border-box",width:"14.2857%",maxWidth:"26px",height:"26px",borderRadius:"2px",margin:"2px 2px 4px 2px",border:c?"2px solid #5a87f7":o?"2px solid #273d74":"2px solid #363636",backgroundColor:e==="background"?G[n]:void 0,color:e==="font"?O[n]:O.initialWhite},children:l(Ae,{})})},K6=()=>{const e=[{type:"font",color:"red"},{type:"font",color:"orange"},{type:"font",color:"yellow"},{type:"font",color:"lime"},{type:"font",color:"blue"},{type:"font",color:"pinkPurple"},{type:"font",color:"gray"}],n=[{type:"background",color:"red_1"},{type:"background",color:"red_2"},{type:"background",color:"orange_1"},{type:"background",color:"orange_2"},{type:"background",color:"yellow_1"},{type:"background",color:"yellow_2"},{type:"background",color:"lime_1"},{type:"background",color:"lime_2"},{type:"background",color:"blue_1"},{type:"background",color:"blue_2"},{type:"background",color:"pinkPurple_1"},{type:"background",color:"pinkPurple_2"},{type:"background",color:"gray_1"},{type:"background",color:"gray_2"}],t=y(),o=R(Ee),r=s=>{s.preventDefault(),s.stopPropagation(),D6(t)};return o?l("div",{className:R6,children:v("div",{className:I6,children:[l("div",{className:de,children:l("span",{children:"\u5B57\u4F53\u989C\u8272"})}),l("div",{className:ce,children:e.map(({type:s,color:a},c)=>l(ue,{type:s,colorKey:a},c))}),l("div",{className:de,children:l("span",{children:"\u80CC\u666F\u989C\u8272"})}),l("div",{className:ce,children:n.map(({type:s,color:a},c)=>l(ue,{type:s,colorKey:a},c))}),l("div",{onMouseDown:r,className:z6,children:l("span",{children:"\u6E05\u9664"})})]})}):l("div",{style:{opacity:"0",transform:"translate(-103px, 0)"}})},O6=()=>{const e=y(),[n,t]=m.exports.useState(!1),o=R(T6),r=R(X),[,s]=C(Ee);return v("div",{onMouseLeave:()=>{s(!1)},className:xe,children:[l("div",{onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),r.fontColorKey&&$(e,"font",r.fontColorKey),r.backgroundColorKey&&$(e,"background",r.backgroundColorKey)},onMouseEnter:()=>{t(!0),s(!0)},onMouseLeave:()=>{t(!1)},className:Ce,style:{backgroundColor:n?K.focusStatic:void 0},children:l("div",{className:Le,style:{backgroundColor:G[o.backgroundColorKey],color:O[o.fontColorKey]},children:l(Ae,{})})}),l(K6,{})]})},$6=()=>v("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1686",children:[l("path",{d:"M298.666667 810.666667a42.666667 42.666667 0 0 1 42.666666-42.666667h170.666667a42.666667 42.666667 0 1 1 0 85.333333H341.333333a42.666667 42.666667 0 0 1-42.666666-42.666666zM469.333333 213.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h170.666667a42.666667 42.666667 0 1 1 0 85.333333h-170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667z","p-id":"1687",fill:"currentColor"}),l("path",{d:"M609.066667 172.288a42.666667 42.666667 0 0 1 29.269333 52.778667l-170.666667 597.333333a42.666667 42.666667 0 1 1-82.048-23.466667l170.666667-597.333333a42.666667 42.666667 0 0 1 52.778667-29.312z","p-id":"1688",fill:"currentColor"})]}),H6=()=>{const e=y(),n=F(e,"italic");return l(S,{isStyleActive:n,onMouseDown:o=>{o.preventDefault(),o.stopPropagation(),W(e,"italic",!0)},children:l($6,{})})},J=x({isActive:!1,position:null}),F6=()=>{const[,e]=C(J);m.exports.useEffect(()=>{const n=new AbortController;return document.addEventListener("mousedown",()=>{e({isActive:!1,position:null}),document.addEventListener("mouseup",t=>{const o=window.getSelection();if(o&&!o.isCollapsed){const r=(document.documentElement.clientWidth-790)/2;let s=t.pageX,a=t.pageY;s<=r?s=0:s>=r+790?s=790:(s-=r,s+=20),t.clientY<80?a+=30:a-=80,e({isActive:!0,position:{x:s,y:a,translateY:t.clientY<80?-10:10}})}},{once:!0})},{signal:n.signal}),()=>{n.abort()}},[e])},j6=()=>v("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1686",children:[l("path",{d:"M662.869333 361.173333a42.666667 42.666667 0 0 1 0 60.330667l-241.365333 241.365333a42.666667 42.666667 0 1 1-60.330667-60.330666l241.365334-241.365334a42.666667 42.666667 0 0 1 60.330666 0z","p-id":"1687",fill:"currentColor"}),l("path",{d:"M330.965333 451.669333a42.666667 42.666667 0 0 1 0 60.330667l-60.330666 60.330667a128 128 0 1 0 181.034666 181.034666L512 693.034667a42.666667 42.666667 0 0 1 60.330667 60.330666L512 813.653333a213.333333 213.333333 0 1 1-301.696-301.653333l60.330667-60.373333a42.666667 42.666667 0 0 1 60.330666 0zM753.365333 270.634667a128 128 0 0 0-181.034666 0L512 330.965333a42.666667 42.666667 0 1 1-60.330667-60.330666L512 210.304a213.333333 213.333333 0 1 1 301.696 301.653333l-60.330667 60.373334A42.666667 42.666667 0 0 1 693.034667 512l60.330666-60.330667a128 128 0 0 0 0-181.034666z","p-id":"1688",fill:"currentColor"})]}),q6=()=>{const e=y(),n=q(e),[,t]=C(J),[,o]=C(ke);return l(S,{isStyleActive:n,onMouseDown:s=>{s.preventDefault(),s.stopPropagation();const a=window.getSelection();if(!a){console.error("onMouseDown in LinkButton need dom selection.");return}const u=a.getRangeAt(0).getBoundingClientRect(),p=(document.documentElement.clientWidth-790)/2,h=u.left-p,w=u.top+30+window.scrollY;t({isActive:!1,position:null}),o({isActive:!0,position:{left:h,top:w}})},children:l(j6,{})})},Be=(e,n)=>{const{selection:t}=e;return t?Array.from(i.nodes(e,{match:r=>f.isElement(r)&&r.type===n})).length>0:!1},Ne=e=>{if(!e.selection){console.error("unToggleList() need editor.selection.");return}const n=Array.from(i.nodes(e,{match:o=>f.isElement(o)&&B(P,o.type)}));for(const[o,r]of n){let s=0;if(B(Y,o.type)){const a=o;a.indentLevel>=0&&a.indentLevel<=16&&(s=a.indentLevel)}d.removeNodes(e,{at:r}),d.insertNodes(e,{type:"paragraph",indentLevel:s,children:o.children},{at:r})}const t={anchor:i.start(e,n[0][1]),focus:i.end(e,n[n.length-1][1])};d.select(e,t)},_e=e=>{if(!e.selection){console.error("toggleOrderedList() need editor.selection.");return}const n=Array.from(i.nodes(e,{match:t=>f.isElement(t)&&B(P,t.type)}));if(n.every(([t])=>t.type==="orderedList"))Ne(e);else{let t=n.map(([s])=>{let a=1;if(B(Y,s.type)){const u=s;u.indentLevel>=1&&u.indentLevel<=16&&(a=u.indentLevel)}return{type:"orderedList",indentLevel:a,indexState:{type:"selfIncrement",index:1},children:s.children}});n.every(([s])=>s.type.startsWith("blockCode"))&&U(e,e.selection);const o=L.start(e.selection).path.slice(0,1),r=[o[0]+t.length-1];if(o[0]===0)t[0].indexState.type="head";else{const s=i.node(e,[o[0]-1])[0];f.isElement(s)&&s.type==="orderedList"&&s.indentLevel===t[0].indentLevel||(t[0].indexState.type="head")}if(r[0]!==e.children.length-1){const[s,a]=i.node(e,[r[0]+1]);f.isElement(s)&&s.type==="orderedList"&&s.indentLevel===t[t.length-1].indentLevel&&d.setNodes(e,{indexState:{type:"selfIncrement",index:1}},{at:a})}d.removeNodes(e,{at:e.selection}),d.insertNodes(e,t,{at:o}),d.select(e,i.end(e,r))}},Me=e=>{if(!e.selection){console.error("toggleUnorderedList() need editor.selection.");return}const n=Array.from(i.nodes(e,{match:t=>f.isElement(t)&&B(P,t.type)}));if(n.every(([t])=>t.type==="unorderedList"))Ne(e);else{let t=n.map(([s])=>{let a=1;if(B(Y,s.type)){const u=s;u.indentLevel>=1&&u.indentLevel<=16&&(a=u.indentLevel)}return{type:"unorderedList",indentLevel:a,children:s.children}});n.every(([s])=>s.type.startsWith("blockCode"))&&U(e,e.selection);const o=L.start(e.selection).path.slice(0,1),r=[o[0]+t.length-1];d.removeNodes(e,{at:e.selection}),d.insertNodes(e,t,{at:o}),d.select(e,i.end(e,r))}},W6=()=>l("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1701",children:l("path",{d:"M384 725.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h426.666666a42.666667 42.666667 0 1 1 0 85.333333H426.666667a42.666667 42.666667 0 0 1-42.666667-42.666667zM234.666667 640a21.333333 21.333333 0 0 0-21.333334 21.333333v7.893334a42.666667 42.666667 0 1 1-85.333333 0V661.333333A106.666667 106.666667 0 0 1 234.666667 554.666667h1.706666A104.96 104.96 0 0 1 341.333333 659.626667c0 24.192-7.850667 47.744-22.357333 67.072L256 810.666667h42.666667a42.666667 42.666667 0 1 1 0 85.333333H170.666667a42.666667 42.666667 0 0 1-34.133334-68.266667l114.176-152.234666A26.496 26.496 0 0 0 256 659.626667 19.626667 19.626667 0 0 0 236.373333 640H234.666667zM384 512a42.666667 42.666667 0 0 1 42.666667-42.666667h426.666666a42.666667 42.666667 0 1 1 0 85.333334H426.666667a42.666667 42.666667 0 0 1-42.666667-42.666667zM384 298.666667a42.666667 42.666667 0 0 1 42.666667-42.666667h426.666666a42.666667 42.666667 0 1 1 0 85.333333H426.666667a42.666667 42.666667 0 0 1-42.666667-42.666666zM278.442667 134.4A42.666667 42.666667 0 0 1 298.666667 170.666667v256a42.666667 42.666667 0 1 1-85.333334 0V239.701333l-23.594666 11.776a42.666667 42.666667 0 0 1-38.144-76.288l85.333333-42.666666a42.666667 42.666667 0 0 1 41.514667 1.834666z","p-id":"1702",fill:"currentColor"})}),V6=()=>{const e=y(),n=Be(e,"orderedList");return l(S,{isStyleActive:n,onMouseDown:o=>{o.preventDefault(),o.stopPropagation(),e.selection&&_e(e)},children:l(W6,{})})},Y6=()=>l("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1907",children:l("path",{d:"M341.333333 725.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h426.666667a42.666667 42.666667 0 1 1 0 85.333333H384a42.666667 42.666667 0 0 1-42.666667-42.666667zM170.666667 725.333333a42.666667 42.666667 0 0 1 42.666666-42.666666h0.085334a42.666667 42.666667 0 0 1 42.666666 42.666666v0.085334a42.666667 42.666667 0 0 1-42.666666 42.666666H213.333333a42.666667 42.666667 0 0 1-42.666666-42.666666V725.333333zM341.333333 512a42.666667 42.666667 0 0 1 42.666667-42.666667h426.666667a42.666667 42.666667 0 1 1 0 85.333334H384a42.666667 42.666667 0 0 1-42.666667-42.666667zM170.666667 512a42.666667 42.666667 0 0 1 42.666666-42.666667h0.085334a42.666667 42.666667 0 0 1 42.666666 42.666667v0.085333a42.666667 42.666667 0 0 1-42.666666 42.666667H213.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V512zM341.333333 298.666667a42.666667 42.666667 0 0 1 42.666667-42.666667h426.666667a42.666667 42.666667 0 1 1 0 85.333333H384a42.666667 42.666667 0 0 1-42.666667-42.666666zM170.666667 298.666667a42.666667 42.666667 0 0 1 42.666666-42.666667h0.085334a42.666667 42.666667 0 0 1 42.666666 42.666667v0.085333a42.666667 42.666667 0 0 1-42.666666 42.666667H213.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V298.666667z","p-id":"1908",fill:"currentColor"})}),U6=()=>{const e=y(),n=Be(e,"unorderedList");return l(S,{isStyleActive:n,onMouseDown:o=>{o.preventDefault(),o.stopPropagation(),e.selection&&Me(e)},children:l(Y6,{})})},G6=()=>{const e=R(J),n=e.isActive,t=e.position;if(n&&t){const o={transform:`translate3d(0, ${t.translateY}px, 0px)`,opacity:"1",transitionProperty:"opacity, transform",transitionDuration:"0.3s, 0.3s",transitionDelay:"0.017s, 0.017s",top:`${t.y}px`,left:`${t.x}px`,userSelect:"none"};return l("div",{className:g6,style:o,children:l("div",{style:{display:"inline-block"},children:v("ul",{className:h6,children:[l(k6,{}),l(L6,{}),l(H6,{}),l(O6,{}),l(q6,{}),l(V6,{}),l(U6,{}),l(A6,{}),l(S6,{})]})})})}else return l("div",{style:{opacity:"0"}})},X6=e=>{const{deleteBackward:n}=e;return e.deleteBackward=t=>{const{selection:o}=e;if(o){const[r,s]=i.node(e,o,{depth:1});if(f.isElement(r)&&r.type==="paragraph")if(r.indentLevel!==0){if(L.isCollapsed(o)&&i.isStart(e,o.anchor,s)){d.setNodes(e,{indentLevel:0},{at:s});return}}else{const a=i.previous(e,{match:c=>!i.isEditor(c),mode:"highest"});if(a&&f.isElement(a[0])&&a[0].type==="blockCode"){d.select(e,a[1]);return}}else if(f.isElement(r)&&r.type==="blockCode"){if(L.isCollapsed(o)&&o.anchor.path[o.anchor.path.length-2]===0&&o.anchor.offset===0)return}else if(f.isElement(r)&&(r.type==="orderedList"||r.type==="unorderedList")&&L.isCollapsed(o)&&i.isStart(e,o.anchor,s)){d.removeNodes(e,{at:s});const a={type:"paragraph",indentLevel:r.indentLevel,children:r.children};d.insertNodes(e,a,{at:s}),d.select(e,i.start(e,s));return}}n(t)},e},J6=e=>{const{deleteFragment:n}=e;return e.deleteFragment=t=>{n(t);const o=window.getSelection();o==null||o.removeAllRanges()},e},Q6=e=>J6(X6(e)),Z6=e=>{const{isInline:n}=e;return e.isInline=t=>B(E6,t.type)||n(t),e},et=e=>{const n=e.children;return n.length===3&&n[0].type==="blockCode_voidArea"&&n[0].children.length===1&&n[0].children[0].text===""&&n[1].type==="blockCode_codeArea"&&n[2].type==="blockCode_voidArea"&&n[2].children.length===1&&n[2].children[0].text===""},tt=(e,n)=>{const[t,o]=n;if(!et(t)){d.removeNodes(e,{at:o});return}},nt=e=>{for(let o=1;o<=16;o++){const s=i.nodes(e,{at:[],match:a=>f.isElement(a)&&a.type==="orderedList"&&a.indentLevel===o}).next();if(!s.done){const[a,c]=s.value;if(a.indexState.type!=="head"){d.setNodes(e,{indexState:{type:"head",index:1}},{at:c});return}}}const n=Array.from(i.nodes(e,{at:[],match:o=>f.isElement(o)&&o.type==="orderedList"}));let t=1;for(const[o,r]of n)o.indexState.type==="head"?t=o.indexState.index:(t++,t!==o.indexState.index&&d.setNodes(e,{indexState:{type:o.indexState.type,index:t}},{at:r}))},ot=e=>{const{normalizeNode:n}=e;return e.normalizeNode=t=>{const[o]=t;if(i.isEditor(o)){nt(e);return}if(f.isElement(o)&&o.type==="blockCode"){tt(e,t);return}n(t)},e},rt=e=>ot(e),st=e=>{const{isVoid:n}=e;return e.isVoid=t=>B(B6,t.type)||n(t),e},lt=()=>{const[e]=m.exports.useState(()=>rt(st(Q6(Z6(Oe($e()))))));return e},at=e=>{const n=Array.from(i.nodes(e,{match:t=>f.isElement(t)&&B(P,t.type)}));if(e.selection&&L.isCollapsed(e.selection)&&n.length===1&&f.isElement(n[0][0])&&n[0][0].type==="orderedList"){const[t,o]=n[0];if(_.string(t).length===0){t.indentLevel-1>=1&&t.indentLevel-1<=16?d.setNodes(e,{indentLevel:t.indentLevel-1}):(d.removeNodes(e,{at:o}),d.insertNodes(e,{type:"paragraph",indentLevel:0,children:[{text:""}]},{at:o}),d.select(e,i.start(e,o)));return}if(t.indexState.type==="head"){d.splitNodes(e,{always:!0});const r=e.selection.anchor.path.slice(0,1);d.setNodes(e,{indexState:{type:"selfIncrement",index:1}},{at:r});return}}d.splitNodes(e,{always:!0})},pe=(e,n)=>{const t=Array.from(i.nodes(e,{match:r=>f.isElement(r)&&(r.type==="unorderedList"||r.type==="orderedList")}));if(n==="increase")for(const[r,s]of t){const a=Math.floor(r.indentLevel+1);a>=1&&a<=16&&r.indentLevel!==a&&d.setNodes(e,{indentLevel:a},{at:s})}else for(const[r,s]of t){const a=Math.floor(r.indentLevel-1);a>=1&&a<=16&&r.indentLevel!==a&&d.setNodes(e,{indentLevel:a},{at:s})}const o=Array.from(i.nodes(e,{match:r=>f.isElement(r)&&r.type==="orderedList"}));for(const[r,s]of o){if(s[0]===0)r.indexState.type!=="head"&&d.setNodes(e,{indexState:{type:"head",index:1}},{at:s});else{const a=i.node(e,[s[0]-1])[0];f.isElement(a)&&a.type==="orderedList"&&a.indentLevel===r.indentLevel?r.indexState.type!=="selfIncrement"&&d.setNodes(e,{indexState:{type:"selfIncrement",index:1}},{at:s}):r.indexState.type!=="head"&&d.setNodes(e,{indexState:{type:"head",index:1}},{at:s})}if(s[0]!==e.children.length-1){const[a,c]=i.node(e,[s[0]+1]);f.isElement(a)&&a.type==="orderedList"&&a.indentLevel===r.indentLevel&&a.indexState.type!=="selfIncrement"&&d.setNodes(e,{indexState:{type:"selfIncrement",index:1}},{at:c})}}},fe=(e,n)=>{const t=Array.from(i.nodes(e,{match:o=>f.isElement(o)&&o.type==="paragraph"}));if(n==="increase")for(const[o,r]of t){const s=Math.floor(o.indentLevel+1);s>=0&&s<=16&&o.indentLevel!==s&&d.setNodes(e,{indentLevel:s},{at:r})}else for(const[o,r]of t){const s=Math.floor(o.indentLevel-1);s>=0&&s<=16&&o.indentLevel!==s&&d.setNodes(e,{indentLevel:s},{at:r})}},it=()=>{const e=y();return t=>{const o=Array.from(i.nodes(e,{match:r=>f.isElement(r)&&B(P,r.type)})).map(([r])=>r);if(t.key==="Enter"&&o.every(r=>r.type==="orderedList")){t.preventDefault(),at(e);return}if(t.key==="Tab"){if(t.preventDefault(),t.shiftKey){pe(e,"decrease"),fe(e,"decrease");return}pe(e,"increase"),fe(e,"increase");return}if(t.altKey&&t.key==="q"){_e(e);return}if(t.altKey&&t.key==="w"){Me(e);return}}};var ct="_1egqicb0",dt="_1egqicb1";const Se={PlainText:"plainText",C:"c","C++":"cpp",Dart:"dart",Docker:"docker",Git:"git",Go:"go",GraphQL:"graphql",Haskell:"haskell",HTTP:"http",Javascript:"javascript",Java:"java",JSON:"json",LaTeX:"latex",Perl:"perl",PHP:"php","PL/SQL":"plsql",SQL:"sql",WebAssembly:"wasm"},ut=({attributes:e,children:n,element:t})=>{const o=He(),r=y(),s=Object.keys(Se);return v("div",b(g({},e),{style:{border:o?"1px solid #5a87f7":void 0},className:ct,children:[l("div",{contentEditable:!1,children:l(ee,{defaultValue:_.child(t,1).langKey,style:{width:154},onChange:a=>{const c=_.child(t,1),u=I.findPath(r,c);d.setNodes(r,{langKey:a},{at:u})},children:s.map(a=>l(ee.Option,{value:a,children:a},a))})}),l("div",{style:{display:"flex"},children:n})]}))},pt=({attributes:e,children:n,element:t})=>{const o=y(),[r,s]=m.exports.useState(),[a,c]=m.exports.useState(!1);return m.exports.useEffect(()=>{if(r){const u=new AbortController;return r.addEventListener("mousedown",()=>{const p=new AbortController;c(void 0),r.addEventListener("mouseleave",()=>{c(!1)},{signal:p.signal}),document.addEventListener("mouseup",()=>{c(void 0),p.abort()},{signal:p.signal})},{signal:u.signal}),()=>{u.abort()}}},[r]),m.exports.useEffect(()=>{s(I.toDOMNode(o,t))},[o,t]),l("div",b(g({},e),{style:{width:"100%"},contentEditable:a,children:n}))},ft=({attributes:e,children:n,element:t})=>{const o=y(),r=I.findPath(o,t),s=_.parent(o,r),a=54+(s.children.length<1e3?0:(s.children.length.toString().length-3)*16);return v("div",b(g({},e),{style:{margin:"8px 0"},children:[l("span",{className:dt,style:{display:"inline-block",width:`${a}px`,color:"#a6a6a6",userSelect:"none",textAlign:"right",paddingRight:"16px"},contentEditable:!1,children:r[r.length-1]+1}),n]}))},ht=({attributes:e,children:n,element:t})=>{const o=y(),r=I.findPath(o,t);let s={};return r[r.length-1]===0?s={transform:"translate(-15px, -10px)"}:s={transform:"translate(6px, -10px)"},l("div",b(g({},e),{style:s,children:n}))},gt=e=>{let n="";const t={1:"i",4:"iv",5:"v",9:"ix",10:"x",40:"xl",50:"l",90:"xc",100:"c",400:"cd",500:"d",900:"cm",1e3:"m"},o=[1,4,5,9,10,40,50,90,100,400,500,900,1e3];for(let r=o.length-1;r>=0;r--){const s=e,a=e%o[r];a===s&&r!==0||(n+=t[o[r]].repeat(Math.floor((e-a)/o[r])),e=a)}return n},vt=e=>{let n="";const t={1:"a",2:"b",3:"c",4:"d",5:"e",6:"f",7:"g",8:"h",9:"i",10:"j",11:"k",12:"l",13:"m",14:"n",15:"o",16:"p",17:"q",18:"r",19:"s",20:"t",21:"u",22:"v",23:"w",24:"x",25:"y",26:"z"};let o=1,r=26,s=[],a=[];for(s.push(r),a.push(1);!(e<=r);)o+=1,r+=Math.pow(26,o),s.push(r),a.push(26*(o-1));let c=e;for(let u=o;u>=1;u--){let p=1;for(let h=1;h<=25;h++)c>=Math.pow(26,u-1)*h+(u-1===0?0:a[u-1-1])&&c<Math.pow(26,u-1)*(h+1)+(u-1===0?0:s[u-1-1])&&(p=h),c===Math.pow(26,u-1)*(h+1)+(u-1===0?0:s[u-1-1])&&(p=h+1);n+=t[p],c-=Math.pow(26,u-1)*p}return n},yt=({attributes:e,children:n,element:t})=>{const o=t.indentLevel%3===1?t.indexState.index:t.indentLevel%3===2?vt(t.indexState.index):gt(t.indexState.index);return l("div",b(g({},e),{style:{margin:"8px 0"},children:v("div",{style:{marginLeft:`${(t.indentLevel-1)*22}px`,display:"flex"},children:[v("span",{contentEditable:!1,style:{userSelect:"none",minWidth:"22px",height:"100%",color:"#5a87f7"},children:[o,"."]}),l("span",{style:{minWidth:"0"},children:n})]})}))},mt=({attributes:e,children:n,element:t})=>{const o=t.indentLevel%3===1?"\u2022":t.indentLevel%3===2?"\u25E6":"\u25AA";return l("div",b(g({},e),{style:{margin:"8px 0"},children:v("div",{style:{marginLeft:`${(t.indentLevel-1)*22}px`,display:"flex"},children:[l("span",{contentEditable:!1,style:{userSelect:"none",minWidth:"22px",height:"100%",color:"#5a87f7"},children:o}),l("span",{style:{minWidth:"0"},children:n})]})}))},kt=({attributes:e,children:n,element:t})=>l("div",b(g({},e),{style:{margin:"8px 0"},children:l("div",{style:{marginLeft:`${t.indentLevel*22}px`},children:n})}));var Ct="_1dxp91d0";const he=()=>v("span",{contentEditable:!1,style:{fontSize:"0"},children:["$",String.fromCodePoint(160)]}),Lt=({attributes:e,children:n})=>v("span",b(g({},e),{className:Ct,children:[l(he,{}),n,l(he,{})]})),xt=({attributes:e,children:n,element:t})=>{const o=y(),[,r]=C(ve),[,s]=C(H),[a,c]=m.exports.useState(),u=m.exports.useRef(null),p=w=>{if(a){u.current=window.setTimeout(()=>{r({type:"instant",value:!0})},800);const k=(document.documentElement.clientWidth-790)/2,N=window.scrollY+a.getBoundingClientRect().top+28,A=window.scrollX+a.getBoundingClientRect().left-k;s({text:_.string(t),url:t.url,linkElementPath:I.findPath(o,t),position:{top:N,left:A}})}},h=()=>{u.current&&clearTimeout(u.current),r({type:"delayed",value:!1})};return m.exports.useEffect(()=>{c(I.toDOMNode(o,t))}),l("span",b(g({onMouseEnter:p,onMouseLeave:h},e),{children:l("a",{onClick:()=>{window.open(t.url,"_blank")},href:t.url,className:Ze,children:n})}))},wt=({children:e})=>l("span",{style:{fontWeight:"700"},children:e}),bt=({children:e})=>l("span",{style:{fontStyle:"italic"},children:e}),At=({children:e})=>l("span",{style:{textDecoration:"line-through"},children:e}),Et=e=>{let n;return e&&(e.comment?n="slategray":e.operator||e.url?n="#9a6e3a":e.keyword?n="#07a":e.variable||e.regex?n="#e90":e.number||e.boolean||e.tag||e.constant||e.symbol||e["attr-name"]||e.selector?n="#905":e.punctuation?n="#999":e.string||e.char?n="#690":(e.function||e["class-name"])&&(n="#dd4a68")),n},Bt=({attributes:e,children:n,leaf:t})=>(t.italic&&(n=l(bt,{children:n})),t.bold&&(n=l(wt,{children:n})),t.strike&&(n=l(At,{children:n})),t.color&&(n=l(P6,{fontColorKey:t.color.fontColorKey,backgroundColorKey:t.color.backgroundColorKey,children:n})),l("span",b(g({},e),{style:{paddingLeft:t.text===""?"0.1px":void 0,color:Et(t.tokenTypes)},children:n}))),Nt=()=>e=>l(Bt,g({},e)),_t=()=>e=>{switch(e.element.type){case"paragraph":return l(kt,g({},e));case"blockCode":return l(ut,g({},e));case"blockCode_codeArea":return l(pt,g({},e));case"blockCode_voidArea":return l(ht,g({},e));case"blockCode_codeLine":return l(ft,g({},e));case"inlineCode":return l(Lt,g({},e));case"link":return l(xt,g({},e));case"orderedList":return l(yt,g({},e));case"unorderedList":return l(mt,g({},e))}},Pe=e=>typeof e=="string"?e.length:typeof e.content=="string"?e.content.length:e.content.reduce((n,t)=>n+Pe(t),0),Mt=(e,n)=>{const[t,o]=n,r=[];if(f.isElement(t)&&t.type==="blockCode_codeLine"){const s=_.parent(e,o),a=Se[s.langKey],c=_.string(t);if(a!=="plainText"){const u=te.tokenize(c,te.languages[a]);let p=[],h=0;for(const k of u){const N=Pe(k),A=h+N;typeof k!="string"&&p.push([h,A,k.type]),h=A}const w=Array.from(i.nodes(e,{at:o,match:k=>Fe.isText(k)}));for(const k of p){const[N,A,T]=k;let M=0;for(const[z,E]of w){if(z.text.length===0)continue;const D=M+z.text.length;D>N&&D>=A&&r.push({tokenTypes:{[T]:!0},anchor:{path:E,offset:N-M<0?0:N-M},focus:{path:E,offset:A-M}}),D>N&&D<A&&r.push({tokenTypes:{[T]:!0},anchor:{path:E,offset:N-M},focus:{path:E,offset:z.text.length}}),M=D}}}}return r},St=()=>{const e=y();return t=>{let o=[];return o=o.concat(Mt(e,t)),o}},Pt=()=>{const e=y(),n=e.children[e.children.length-1];m.exports.useEffect(()=>{if(n.type!=="paragraph"){const t={type:"paragraph",indentLevel:1,children:[{text:""}]};d.insertNodes(e,t,{at:[e.children.length]})}})},Dt=()=>{const e=y();return t=>{let o="";if(e.selection){const r=Array.from(i.nodes(e,{match:s=>f.isElement(s)&&(s.type==="paragraph"||s.type==="blockCode_codeLine")}));if(r.length===1)o=_.string(r[0][0]);else{const[s,a]=L.edges(e.selection),c=_.string(r[0][0]).slice(s.offset),u=_.string(r[r.length-1][0]).slice(0,a.offset);o=o.concat(`${c}
`),r.map(p=>{ne.isChild(s.path,p[1])||ne.isChild(a.path,p[1])||(o=o.concat(`${_.string(p[0])}
`))}),o=o.concat(`${u}`)}}t.clipboardData.setData("text/plain",o),t.preventDefault()}},It=()=>{const e=Nt(),n=_t(),t=it(),o=Dt(),r=St();return F6(),Pt(),l(je,{decorate:r,renderElement:n,renderLeaf:e,onKeyDown:t,spellCheck:!1,onCopy:o})},zt=()=>{const e=lt(),[n,t]=m.exports.useState([{type:"paragraph",indentLevel:0,children:[{text:"A line of text in a paragraph. - 1"}]},{type:"paragraph",indentLevel:0,children:[{text:"A line of text in a paragraph. - 2"}]},{type:"paragraph",indentLevel:0,children:[{text:"A line of text in a paragraph. - 3"}]},{type:"paragraph",indentLevel:0,children:[{text:"A line of text in a paragraph. - 4"}]},{type:"paragraph",indentLevel:0,children:[{text:"A line of text in a paragraph. - 5"}]},{type:"paragraph",indentLevel:0,children:[{text:"A line of text in a paragraph. - 6"}]},{type:"paragraph",indentLevel:0,children:[{text:"A line of text in a paragraph. - 7"}]},{type:"paragraph",indentLevel:0,children:[{text:"A line of text in a paragraph. - 8"}]},{type:"blockCode",children:[{type:"blockCode_voidArea",children:[{text:""}]},{type:"blockCode_codeArea",langKey:"Javascript",children:[{type:"blockCode_codeLine",children:[{text:'import React from "react"'}]},{type:"blockCode_codeLine",children:[{text:'import * as ReactDOMClient from "react-dom/client"'}]},{type:"blockCode_codeLine",children:[{text:'import App from "./App"'}]},{type:"blockCode_codeLine",children:[{text:""}]},{type:"blockCode_codeLine",children:[{text:'import "./normalize.css"'}]},{type:"blockCode_codeLine",children:[{text:""}]},{type:"blockCode_codeLine",children:[{text:'document.body.setAttribute("arco-theme", "dark")'}]},{type:"blockCode_codeLine",children:[{text:""}]},{type:"blockCode_codeLine",children:[{text:'const container = document.getElementById("root")'}]},{type:"blockCode_codeLine",children:[{text:`if (!container) throw "Can't find root dom."`}]},{type:"blockCode_codeLine",children:[{text:""}]},{type:"blockCode_codeLine",children:[{text:"const root = ReactDOMClient.createRoot(container)"}]},{type:"blockCode_codeLine",children:[{text:""}]},{type:"blockCode_codeLine",children:[{text:"root.render("}]},{type:"blockCode_codeLine",children:[{text:"  <React.StrictMode>"}]},{type:"blockCode_codeLine",children:[{text:"    <App />"}]},{type:"blockCode_codeLine",children:[{text:"  </React.StrictMode>"}]},{type:"blockCode_codeLine",children:[{text:")"}]}]},{type:"blockCode_voidArea",children:[{text:""}]}]},{type:"paragraph",indentLevel:0,children:[{text:""}]}]);return l("div",{className:Ue,children:l("div",{className:Ye,children:v(qe,{editor:e,value:n,onChange:o=>t(o),children:[l(It,{}),l(G6,{}),l(f6,{}),l(s6,{}),l(l6,{})]})})})};document.body.setAttribute("arco-theme","dark");const De=document.getElementById("root");if(!De)throw"Can't find root dom.";const Rt=We(De);Rt.render(l(zt,{}));
